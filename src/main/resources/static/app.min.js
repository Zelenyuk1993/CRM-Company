var app=angular.module("ERP",["ngMaterial","ui.router","ngMdIcons"]);app.config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("app",{"abstract":!0,url:"",controller:"HeaderController",templateUrl:"template/header.html"}).state("app.main",{url:"/",controller:"MainController",templateUrl:"template/main.html"}),e.state("error",{"abstract":!0,url:"/error",template:"<ui-view/>"}).state("error.404",{url:"^/404",templateUrl:"template/404.html"}),r.otherwise("/404")}]),app.controller("HeaderController",["$scope",function(e){}]),app.controller("MainController",["$scope","serverService",function(e,r){e.test="Hello World!!!",r.getCompanies().then(function(r){e.companies=r}),e.newCompany={id:null,name:"Write name",childrenCompanies:null,parentCompanies:null},e.save=function(){r.saveCompany(e.newCompany).then(function(r){console.log(r),e.companies.push(r)})}}]),app.factory("serverService",["$http","$q",function(e,r){var t={companiesGET:"/api/companies",companyPOST:"/api/company"};return{getCompanies:function(){var n=r.defer();return e.get(t.companiesGET).then(function(e){n.resolve(e.data)}),n.promise},saveCompany:function(n){var a=r.defer();return e.post(t.companyPOST,n).then(function(e){a.resolve(e.data)}),a.promise}}}]);